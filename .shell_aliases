# vim: set ft=zsh:

# ALIASES
alias ls='ls -G'
alias ll='ls -lG '
alias la='ls -lG -a'

alias console='script/console'
alias c='bundle exec pry -r ./config/environment.rb'
alias server='script/server'
alias log='bundle exec rake log:clear; tail -f log/development.log'
alias start='RAILS_ENV=development foreman start'
alias b="bundle exec"
alias r="bundle exec rake"

alias st="git status"
alias co="git checkout"
alias br="git branch"
alias com="git commit"
alias push="git push"
alias add="git add"
alias stake="git add -A; git commit -m 'stake'"

# 256 color tmux
alias mx="tmux -2"

#if [ -x "$(which ack-grep)" ]; then alias ack="ack-grep"; fi
if [ command -v ack-grep &> /dev/null ]; then alias ack="ack-grep"; fi

#if [ -x "$(which xdg-open)" ]; then alias open="xdg-open"; fi
if [ command -v xdg-open &> /dev/null ]; then alias open="xdg-open"; fi

#if [ -x "$(which xclip)" ]; then alias pbcopy="xclip -i -sel clipboard"; fi
if [ command -v xclip &> /dev/null ]; then alias pbcopy="xclip -i -sel clipboard"; fi

#if [ -x "$(which ctags)" ]; then
if [ command -v ctags &> /dev/null ]; then
  alias rtags="find ./ -iname '*.rb' | xargs ctags"
fi


if [ -d "$HOME/.exenv/" ]; then
  export PATH="$HOME/.exenv/bin:$PATH"
  eval "$(exenv init -)"
fi

if [ -e "/opt/bin" ]; then
  export PATH="$PATH:/opt/bin"
fi

if [ -d "$HOME/bin" ]; then
  export PATH="$PATH:$HOME/bin/"
fi

if [ -x "$(which openssl)" ]; then alias pwgen="openssl rand -hex 32"; fi

alias glist='for ref in $(git for-each-ref --sort=-committerdate --format="%(refname)" refs/heads/ refs/remotes ); do git log -n1 $ref --pretty=format:"%Cgreen%cr%Creset %C(yellow)%d%Creset %C(bold blue)<%an>%Creset%n" | cat ; done | awk '"'! a["'$0'"]++'"

alias prod_cl='git cl $(git tag | grep prod- | sort | tail -n 1).. --merges | cat'
alias staging_cl='git cl $(git tag | grep staging- | sort | tail -n 1).. --merges | cat'
